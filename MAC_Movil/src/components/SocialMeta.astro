---
import type { ImageMetadata } from "astro";
import defaultOgImage from "@/assets/imgs/resources/og-image.png";
import {
  normalizePageUrl,
  resolveSiteUrl,
  resolveToAbsolute,
} from "@/utils/seo";

type SocialMetaProps = {
  title?: string;
  description?: string;
  url?: string;
  image?: string | ImageMetadata;
  imageAlt?: string;
};

const {
  title = "MAC Paving and Sealcoating | Asphalt and Sealcoating Services in NJ",
  description = "Expert asphalt paving, sealcoating, and Belgium block edging services across New Jersey. Residential driveways and commercial paving solutions.",
  url = "https://macpavingandsealcoating.com/",
  image = defaultOgImage,
  imageAlt = "MAC Paving and Sealcoating crew at work in North Jersey",
}: SocialMetaProps = Astro.props;

const site = resolveSiteUrl(Astro.site);
const pageUrl = normalizePageUrl(url, site);
const ogImage = resolveToAbsolute(image, site);
---

<!-- Open Graph Tags -->
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:type" content="website" />
<meta property="og:url" content={pageUrl} />
<meta property="og:image" content={ogImage} />
<meta property="og:image:alt" content={imageAlt} />

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={ogImage} />
<meta name="twitter:image:alt" content={imageAlt} />
